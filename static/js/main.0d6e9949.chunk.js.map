{"version":3,"sources":["components/Section/Section.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.js","helpers/mapper.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Section/Section.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","services/apiFetch.js","index.js","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","value","setValue","className","s","searchBar","searchForm","e","preventDefault","trim","searchButton","type","buttonLabel","formInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","mapper","hits","map","imageId","id","smallImg","webformatURL","modalImg","largeImageURL","tags","ImageGalleryItem","onModalClick","galleryImage","src","alt","onClick","ImageGallery","images","onModalOpen","gallery","item","Section","children","section","container","Button","onLoadMore","button","Spinner","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","useEffect","modalClose","code","window","addEventListener","removeEventListener","createPortal","overlay","target","modal","App","setImages","query","setQuery","setModalImg","setTags","page","setPage","loading","setLoading","modalShow","setModalShow","error","setError","searchName","axios","get","imageApi","then","data","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","message","length","Loader","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0d6e9949.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__1ckd0\",\"container\":\"Section_container__3b6IU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1VDzz\",\"modal\":\"Modal_modal__1oIXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__37tfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__wMuFE\",\"searchForm\":\"SearchBar_searchForm__3qyjp\",\"searchButton\":\"SearchBar_searchButton__29_lw\",\"buttonLabel\":\"SearchBar_buttonLabel__1Wcii\",\"formInput\":\"SearchBar_formInput__3I1Uq\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './SearchBar.module.css';\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  const [value, setValue] = useState('');\r\n\r\n  const handleChangeInput = ({ currentTarget: { value } }) => {\r\n    setValue(value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (value.trim()) {\r\n      onSubmit(value);\r\n      setValue('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchBar}>\r\n      <form className={s.searchForm} onSubmit={handleSubmit}>\r\n        <button className={s.searchButton} type=\"submit\">\r\n          <span className={s.buttonLabel}>Search</span>\r\n        </button>\r\n        <input\r\n          className={s.formInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleChangeInput}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchBar;\r\n","const mapper = hits => {\n  return hits.map(\n    ({\n      id: imageId,\n      webformatURL: smallImg,\n      largeImageURL: modalImg,\n      tags,\n    }) => ({ imageId, smallImg, modalImg, tags }),\n  );\n};\n\nexport default mapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGalleryItem = ({ smallImg, modalImg, tags, onModalClick }) => {\n  return (\n    <img\n      className={s.galleryImage}\n      src={smallImg}\n      alt={tags}\n      onClick={() => onModalClick(modalImg, tags)}\n    />\n  );\n};\n\nImageGalleryItem.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  modalImg: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onModalClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onModalOpen }) => (\n  <ul className={s.gallery}>\n    {images.map(({ imageId, smallImg, modalImg, tags }) => (\n      <li className={s.item} key={imageId}>\n        <ImageGalleryItem\n          smallImg={smallImg}\n          tags={tags}\n          modalImg={modalImg}\n          onModalClick={onModalOpen}\n        />\n      </li>\n    ))}\n  </ul>\n);\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      imageId: PropTypes.number.isRequired,\n      smallImg: PropTypes.string.isRequired,\n      modalImg: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  onModalOpen: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nconst Section = ({ children }) => (\n  <section className={s.section}>\n    <div className={s.container}>{children}</div>\n  </section>\n);\n\nSection.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Section;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => (\n  <button className={s.button} type=\"button\" onClick={() => onLoadMore()}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport React from 'react';\n\nconst Spinner = () => (\n  <Loader\n    type=\"ThreeDots\"\n    color=\"#3f51b5\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport default Spinner;\n","import { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal');\r\n\r\nconst Modal = ({ onClose, modalImg, tags }) => {\r\n  useEffect(() => {\r\n    const modalClose = e => {\r\n      if (e.code === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', modalClose);\r\n    return () => window.removeEventListener('keydown', modalClose);\r\n  });\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleBackdropClick}>\r\n      <div className={s.modal}>\r\n        <img src={modalImg} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  modalImg: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;","import * as imageApi from '../../services/apiFetch';\r\nimport { useState, useEffect } from 'react';\r\nimport SearchBar from '../SearchBar';\r\nimport mapper from '../../helpers/mapper';\r\nimport ImageGallery from '../ImageGallery';\r\nimport Section from '../Section';\r\nimport Button from '../Button';\r\nimport Loader from '../Loader';\r\nimport Modal from '../Modal';\r\n\r\nconst App = () => {\r\n  const [images, setImages] = useState([]);\r\n  const [query, setQuery] = useState('');\r\n  const [modalImg, setModalImg] = useState('');\r\n  const [tags, setTags] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalShow, setModalShow] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (query === '') {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    imageApi\r\n      .fetchImg(query, page)\r\n      .then(({ data: { hits } }) => {\r\n        setImages(prevState => [...prevState, ...mapper(hits)]);\r\n      })\r\n      .catch(error => setError(error))\r\n      .finally(() => setLoading(false));\r\n  }, [query, page]);\r\n\r\n  const reset = () => {\r\n    setImages([]);\r\n    setQuery('');\r\n    setPage(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [images]);\r\n\r\n  const handleSubmit = query => {\r\n    reset();\r\n    setQuery(query);\r\n  };\r\n\r\n  const handleNextPage = () => {\r\n    setPage(prevState => prevState + 1);\r\n  };\r\n\r\n  const toggleModal = (modalImg, tags) => {\r\n    setModalShow(!modalShow);\r\n    setModalImg(modalImg);\r\n    setTags(tags);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchBar onSubmit={handleSubmit} />\r\n      <Section>\r\n        {error && <h2>{error.message}</h2>}\r\n        {!!images.length && (\r\n          <ImageGallery images={images} onModalOpen={toggleModal} />\r\n        )}\r\n        {loading && <Loader />}\r\n        {images.length % 12 === 0 && !!images.length && (\r\n          <Button onLoadMore={handleNextPage} />\r\n        )}\r\n      </Section>\r\n      {modalShow && (\r\n        <Modal onClose={toggleModal} modalImg={modalImg} tags={tags} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import axios from 'axios';\n\nconst API_KEY = '21924211-a56ef8093bc4c324081574229';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst PER_PAGE = 12;\n\nexport const fetchImg = (searchName, page) =>\n  axios.get(\n    `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchName}&page=${page}&per_page=${PER_PAGE}&key=${API_KEY}`,\n  );\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2IlUM\",\"item\":\"ImageGallery_item__3-XRl\",\"galleryImage\":\"ImageGallery_galleryImage__1MyT5\"};"],"sourceRoot":""}